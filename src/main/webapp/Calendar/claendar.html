<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>일정 관리</title>
  <link rel="stylesheet" href="calendar.css" />
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.15/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.15/index.global.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/interaction@6.1.15/index.global.min.js"></script>
</head>

<body>
  <!-- 상단 헤더 -->
  <header class="header">
    <h1>
      <a href="../Main/main.html">재능을IT다 | 일정 관리</a>
     
    </h1>
    <div class="auth-buttons">
      <a href="../Mypage/mypage.html">마이페이지</a>
      <a href="../Main/main.html">로그아웃</a>
    </div>
  </header>

  <!-- 메인 콘텐츠 -->
  <main class="main-content">
   
    <div id="calendar"></div>
    <div id="controls">
      <label>
        일정:
        <input type="text" id="eventTitle" placeholder="일정 입력" />
      </label>
      <label>
        시작 날짜:
        <input type="date" id="startDate" />
      </label>
      <label>
        종료 날짜:
        <input type="date" id="endDate" />
      </label>
      <button id="addEventBtn">일정 등록</button>
    </div>
  </main>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      var calendarEl = document.getElementById("calendar");

      var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: "dayGridMonth",
        editable: true,
        locale: "ko",
        headerToolbar: {
          left: "prev,next today",
          center: "title",
          right: "",
        },
        events: [],
      });

      calendar.render();

      document.getElementById("addEventBtn").addEventListener("click", function () {
        var eventTitle = document.getElementById("eventTitle").value;
        var startDate = document.getElementById("startDate").value;
        var endDate = document.getElementById("endDate").value;

        if (eventTitle.trim() === "" || startDate.trim() === "") {
          alert("일정 제목과 시작 날짜는 필수입니다.");
          return;
        }

        if (endDate.trim() === "") {
          endDate = startDate;
        }

        calendar.addEvent({
          title: eventTitle,
          start: startDate,
          end: endDate,
          allDay: true,
        });

        document.getElementById("eventTitle").value = "";
        document.getElementById("startDate").value = "";
        document.getElementById("endDate").value = "";

        alert("일정이 추가되었습니다.");
      });
    });
  </script>
</body>

</html>
